<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Shubham's Coffee Shop & Refreshers</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

<!-- NAVBAR -->
<nav class="navbar">
  <div class="logo">Shubham's Coffee Shop & Refreshers</div>
  <div class="nav-links">
    <a href="#menu">Menu</a>
    <a href="#about">About</a>
    <a href="#reviews">Reviews</a>
    <a href="#contact">Contact</a>
  </div>
</nav>

<!-- HERO -->
<section class="hero">
  <div class="hero-content">
    <h1>Shubham's Coffee Shop & Refreshers</h1>
    <p>Delicious coffees & gourmet food ‚Äî served fresh.</p>
    <a href="#menu" class="btn">Explore Our Menu</a>
  </div>
</section>

<!-- MENU -->
<section class="section" id="menu">
  <h2>Our <span>Menu</span></h2>
  <div class="menu-gallery-container">
    <div class="menu-side">

      <!-- Latte -->
      <div class="menu-card"
           data-id="latte1"
           data-name="Latte"
           data-ingredients="Espresso with steamed milk"
           data-price="210"
           data-img="https://images.pexels.com/photos/374852/pexels-photo-374852.jpeg">
        <img src="https://images.pexels.com/photos/374852/pexels-photo-374852.jpeg" />
        <h3>Latte</h3>
        <p>Smooth & milky</p>
        <span>‚Çπ210</span>
      </div>

      <!-- Veggie Bowl -->
      <div class="menu-card"
           data-id="veggie1"
           data-name="Veggie Bowl"
           data-ingredients="Grilled veggie patty with lettuce"
           data-price="260"
           data-img="https://images.pexels.com/photos/1640777/pexels-photo-1640777.jpeg">
        <img src="https://images.pexels.com/photos/1640777/pexels-photo-1640777.jpeg" />
        <h3>Veggie Bowl</h3>
        <p>Fresh & healthy</p>
        <span>‚Çπ260</span>
      </div>

      <!-- Classic Burger -->
      <div class="menu-card"
           data-id="burger1"
           data-name="Classic Burger"
           data-ingredients="Beef patty, cheese, lettuce"
           data-price="320"
           data-img="https://images.pexels.com/photos/1639562/pexels-photo-1639562.jpeg">
        <img src="https://images.pexels.com/photos/1639562/pexels-photo-1639562.jpeg" />
        <h3>Classic Burger</h3>
        <p>Juicy & delicious</p>
        <span>‚Çπ320</span>
      </div>

      <!-- Cheese Burger -->
      <div class="menu-card"
           data-id="burger2"
           data-name="Cheese Burger"
           data-ingredients="Cheese, beef patty"
           data-price="350"
           data-img="https://images.pexels.com/photos/2983101/pexels-photo-2983101.jpeg">
        <img src="https://images.pexels.com/photos/2983101/pexels-photo-2983101.jpeg" />
        <h3>Cheese Burger</h3>
        <p>Cheesy goodness</p>
        <span>‚Çπ350</span>
      </div>

      <!-- Repeat same for all other items, giving each a unique data-id -->

    </div>
  </div>
</section>

<!-- ABOUT -->
<section class="section" id="about">
  <h2>About <span>Us</span></h2>
  <p class="text">
    Shubham's Coffee Shop & Refreshers is your go-to place for rich coffee,
    delicious food, and a relaxing atmosphere.
  </p>
</section>

<!-- CONTACT -->
<section class="section" id="contact">
  <h2>Contact <span>Us</span></h2>
  <p>üìç Main Street, Pimpri Market</p>
  <p>üìû +91 774413141314</p>
  <p>üìß coffeewithshubham@gmail.com</p>
</section>

<!-- MODAL -->
<div class="modal" id="coffeeModal">
  <div class="modal-content">
    <span class="close-btn">&times;</span>

    <!-- DETAILS -->
    <div id="detailsView">
      <img id="modalImg" class="modal-product-img" />
      <h2 id="modalName"></h2>
      <p id="modalIngredients"></p>
      <div class="price" id="modalPrice"></div>
      <button class="buy-btn" id="buyBtn">Buy It</button>
    </div>

    <!-- PAYMENT -->
    <div id="paymentView" style="display:none; text-align:center;">
      <img src="qr.jpeg" class="qr-img" alt="UPI QR Code" />
      <p class="thanks-text">
        Thanks for visiting <strong>Shubham's Coffee & Refreshers</strong> ‚òï
      </p>
    </div>
  </div>
</div>

<!-- SCRIPT -->
<script>
const modal = document.getElementById("coffeeModal");
const modalImg = document.getElementById("modalImg");
const modalName = document.getElementById("modalName");
const modalIngredients = document.getElementById("modalIngredients");
const modalPrice = document.getElementById("modalPrice");
const buyBtn = document.getElementById("buyBtn");
const detailsView = document.getElementById("detailsView");
const paymentView = document.getElementById("paymentView");
const closeBtn = document.querySelector(".close-btn");

// Open modal and show item details
document.querySelectorAll(".menu-card").forEach(card => {
  card.addEventListener("click", () => {
    modalImg.src = card.dataset.img;
    modalName.textContent = card.dataset.name;
    modalIngredients.textContent = card.dataset.ingredients;
    modalPrice.textContent = card.dataset.price;
    buyBtn.dataset.itemId = card.dataset.id; // store itemId
    detailsView.style.display = "block";
    paymentView.style.display = "none";
    modal.style.display = "flex";
  });
});

// Buy button sends order
buyBtn.addEventListener("click", () => {
  const itemId = buyBtn.dataset.itemId;
  const price = Number(modalPrice.textContent.replace("‚Çπ",""));
  const itemName = modalName.textContent;

  fetch("/order", {
    method: "POST",
    headers: {"Content-Type": "application/json"},
    body: JSON.stringify({ itemId, itemName, price })
  })
  .then(res => res.json())
  .then(data => console.log(data))
  .catch(err => console.error(err));

  detailsView.style.display = "none";
  paymentView.style.display = "block";
});

// Close modal
closeBtn.onclick = () => modal.style.display = "none";
window.onclick = e => { if(e.target === modal) modal.style.display = "none"; };
</script>

</body>
</html>
